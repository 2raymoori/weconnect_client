{"ast":null,"code":"import _regeneratorRuntime from\"/home/lot/REACT_JS_PROJECTS/weconnectclient/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/lot/REACT_JS_PROJECTS/weconnectclient/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"/home/lot/REACT_JS_PROJECTS/weconnectclient/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/home/lot/REACT_JS_PROJECTS/weconnectclient/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/home/lot/REACT_JS_PROJECTS/weconnectclient/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import{connect}from\"react-redux\";import{Link,Navigate}from\"react-router-dom\";import{setAlert}from\"../../Actions/Alert\";import{RegisterUser}from\"../../Actions/Auth\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Register=function Register(props){var _useState=useState({fName:\"\",lName:\"\",email:\"\",password:\"\",passwordConfirm:\"\",pImage:\"\"}),_useState2=_slicedToArray(_useState,2),formData=_useState2[0],setFormData=_useState2[1];var fName=formData.fName,lName=formData.lName,email=formData.email,password=formData.password,passwordConfirm=formData.passwordConfirm;var onChangeText=function onChangeText(e){setFormData(_objectSpread(_objectSpread({},formData),{},_defineProperty({},e.target.name,e.target.value)));};var submitForm=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();if(password!==passwordConfirm){props.setAlert(\"Password not match\",\"danger\");}else{// const fomData = new FormData();\n// fomData.append(\"fName\", fName);\n// fomData.append(\"lName\", lName);\n// fomData.append(\"email\", email);\n// fomData.append(\"password\", password);\n// fomData.append(\"passwordConfirm\", passwordConfirm);\n// fomData.append(\"pImage\", formData.pImage);\n// console.log(formData);\n// try {\n//   const res = await axios.post(\n//     `http://localhost:5000/api/user`,\n//     fomData,\n//     {\n//       headers: {\n//         \"Content-Type\": \"application/json\",\n//       },\n//     }\n//   );\n// } catch (error) {\n//   console.log(error);\n//   // alert(\"Sorry Document failed to upload. Please try again\");\n// }\nprops.RegisterUser({fName:fName,lName:lName,email:email,password:password,passwordConfirm:passwordConfirm,profileImage:formData.pImage});/*\n      // try {\n      //     const config = {\n      //         headers: {\n      //             \"Content-Type\":\"application/json\"\n      //         }\n      //     }\n      //     const newUer = {fName,lName,email,password,passwordConfirm}\n      //     const body = JSON.stringify(newUer);\n      //     const res = await axios.post(\"/api/user\",body,config)\n      //     console.log(res.data)\n\n      // } catch (error) {\n      //     console.log(error.response.data)\n      // }\n      */}case 2:case\"end\":return _context.stop();}}},_callee);}));return function submitForm(_x){return _ref.apply(this,arguments);};}();var captureProfileFile=function captureProfileFile(e){setFormData(_objectSpread(_objectSpread({},formData),{},_defineProperty({},e.target.name,e.target.files[0])));};if(props.userAuth.isAuthenticated){return/*#__PURE__*/_jsx(Navigate,{replace:true,to:\"/dashboard\"});}return/*#__PURE__*/_jsxs(\"section\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"large text-primary\",children:\"Sign Up\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"lead\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-user\"}),\" Create Your Account\"]}),/*#__PURE__*/_jsxs(\"form\",{className:\"form\",enctype:\"multipart/form-data\",onSubmit:submitForm,children:[/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"First Name\",value:fName,onChangeCapture:onChangeText,name:\"fName\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Last Name\",value:lName,onChangeCapture:onChangeText,name:\"lName\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"input\",{type:\"email\",placeholder:\"Email Address\",onChangeCapture:onChangeText,value:email,name:\"email\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"pImage\",children:\"Profile Image\"}),/*#__PURE__*/_jsx(\"input\",{id:\"pImage\",type:\"file\",name:\"pImage\",onChange:captureProfileFile,className:\"form-control\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"input\",{onChangeCapture:onChangeText,value:password,type:\"password\",placeholder:\"Password\",name:\"password\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"input\",{onChangeCapture:onChangeText,value:passwordConfirm,type:\"password\",placeholder:\"Confirm Password\",name:\"passwordConfirm\"})}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",className:\"btn btn-primary\",value:\"Register\"})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"my-1\",children:[\"Already have an account? \",/*#__PURE__*/_jsx(Link,{to:\"/login\",children:\"Login\"})]})]});};var xyzToState=function xyzToState(state){return{userAuth:state.auth};};export default connect(xyzToState,{setAlert:setAlert,RegisterUser:RegisterUser})(Register);","map":{"version":3,"names":["React","useState","connect","Link","Navigate","setAlert","RegisterUser","axios","Register","props","fName","lName","email","password","passwordConfirm","pImage","formData","setFormData","onChangeText","e","target","name","value","submitForm","preventDefault","profileImage","captureProfileFile","files","userAuth","isAuthenticated","xyzToState","state","auth"],"sources":["/home/lot/REACT_JS_PROJECTS/weconnectclient/src/Components/Auth/Register.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Link, Navigate } from \"react-router-dom\";\nimport { setAlert } from \"../../Actions/Alert\";\nimport { RegisterUser } from \"../../Actions/Auth\";\nimport axios from \"axios\";\nconst Register = (props) => {\n  const [formData, setFormData] = useState({\n    fName: \"\",\n    lName: \"\",\n    email: \"\",\n    password: \"\",\n    passwordConfirm: \"\",\n    pImage: \"\",\n  });\n  const { fName, lName, email, password, passwordConfirm } = formData;\n\n  const onChangeText = (e) => {\n    setFormData({ ...formData, [e.target.name]: e.target.value });\n  };\n  const submitForm = async (e) => {\n    e.preventDefault();\n    if (password !== passwordConfirm) {\n      props.setAlert(\"Password not match\", \"danger\");\n    } else {\n      // const fomData = new FormData();\n      // fomData.append(\"fName\", fName);\n      // fomData.append(\"lName\", lName);\n      // fomData.append(\"email\", email);\n      // fomData.append(\"password\", password);\n      // fomData.append(\"passwordConfirm\", passwordConfirm);\n      // fomData.append(\"pImage\", formData.pImage);\n      // console.log(formData);\n\n      // try {\n      //   const res = await axios.post(\n      //     `http://localhost:5000/api/user`,\n      //     fomData,\n      //     {\n      //       headers: {\n      //         \"Content-Type\": \"application/json\",\n      //       },\n      //     }\n      //   );\n      // } catch (error) {\n      //   console.log(error);\n      //   // alert(\"Sorry Document failed to upload. Please try again\");\n      // }\n\n      props.RegisterUser({\n        fName,\n        lName,\n        email,\n        password,\n        passwordConfirm,\n        profileImage: formData.pImage,\n      });\n      /*\n      // try {\n      //     const config = {\n      //         headers: {\n      //             \"Content-Type\":\"application/json\"\n      //         }\n      //     }\n      //     const newUer = {fName,lName,email,password,passwordConfirm}\n      //     const body = JSON.stringify(newUer);\n      //     const res = await axios.post(\"/api/user\",body,config)\n      //     console.log(res.data)\n\n      // } catch (error) {\n      //     console.log(error.response.data)\n      // }\n      */\n    }\n  };\n  const captureProfileFile = (e) => {\n    setFormData({ ...formData, [e.target.name]: e.target.files[0] });\n  };\n  if (props.userAuth.isAuthenticated) {\n    return <Navigate replace to=\"/dashboard\" />;\n  }\n  return (\n    <section>\n      <h1 className=\"large text-primary\">Sign Up</h1>\n      <p className=\"lead\">\n        <i className=\"fas fa-user\"></i> Create Your Account\n      </p>\n      <form\n        className=\"form\"\n        enctype=\"multipart/form-data\"\n        onSubmit={submitForm}\n      >\n        <div className=\"form-group\">\n          <input\n            type=\"text\"\n            placeholder=\"First Name\"\n            value={fName}\n            onChangeCapture={onChangeText}\n            name=\"fName\"\n          />\n        </div>\n        <div className=\"form-group\">\n          <input\n            type=\"text\"\n            placeholder=\"Last Name\"\n            value={lName}\n            onChangeCapture={onChangeText}\n            name=\"lName\"\n          />\n        </div>\n        <div className=\"form-group\">\n          <input\n            type=\"email\"\n            placeholder=\"Email Address\"\n            onChangeCapture={onChangeText}\n            value={email}\n            name=\"email\"\n          />\n        </div>\n\n        <div className=\"form-group\">\n          <label for=\"pImage\">Profile Image</label>\n          <input\n            id=\"pImage\"\n            type=\"file\"\n            name=\"pImage\"\n            onChange={captureProfileFile}\n            className=\"form-control\"\n          />\n        </div>\n\n        <div className=\"form-group\">\n          <input\n            onChangeCapture={onChangeText}\n            value={password}\n            type=\"password\"\n            placeholder=\"Password\"\n            name=\"password\"\n          />\n        </div>\n        <div className=\"form-group\">\n          <input\n            onChangeCapture={onChangeText}\n            value={passwordConfirm}\n            type=\"password\"\n            placeholder=\"Confirm Password\"\n            name=\"passwordConfirm\"\n          />\n        </div>\n        <input type=\"submit\" className=\"btn btn-primary\" value=\"Register\" />\n      </form>\n      <p className=\"my-1\">\n        Already have an account? <Link to=\"/login\">Login</Link>\n      </p>\n    </section>\n  );\n};\nconst xyzToState = (state) => ({\n  userAuth: state.auth,\n});\nexport default connect(xyzToState, { setAlert, RegisterUser })(Register);\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}