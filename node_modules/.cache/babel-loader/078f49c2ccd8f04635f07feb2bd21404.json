{"ast":null,"code":"const initState = {\n  curUserPost: [{\n    user: \"62dd610e3281a0af9054ed8a\",\n    title: \"LOT\",\n    description: \"LOT Post\",\n    _id: \"630248f41ade0d58580c4874\",\n    likes: [],\n    comments: [],\n    postDate: \"2022-08-21T15:02:12.956\",\n    __v: 0\n  }, {\n    user: \"62dd610e3281a0af9054ed8a\",\n    title: \"LOT 11\",\n    description: \"LOT Post 1\",\n    _id: \"630248f41ade0d58580c4874s\",\n    likes: [],\n    comments: [],\n    postDate: \"2022-08-21T15:02:12.956Z\",\n    __v: 0\n  }],\n  otherPosts: []\n};\n\nconst postReducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case \"ADD_POST\":\n      return Object.assign({}, state, {\n        curUserPost: state.curUserPost.concat(action.payload)\n      });\n\n    case \"ADD_COMMENT\":\n      const oldPost = state.otherPosts;\n\n      for (let i = 0; i < oldPost.length; i++) {\n        if (oldPost[i]._id === action.payload.postId) {\n          oldPost[i].comments.push(action.payload);\n          break;\n        }\n      }\n\n      state.otherPosts = oldPost;\n      return { ...state,\n        otherPosts: oldPost\n      };\n    //    Object.assign({}, state, {\n    // otherPosts: oldPost,\n    //    })\n\n    case \"REMOVE_POST\":\n      return Object.assign({}, state, {\n        curUserPost: state.curUserPost.filter(post => post._id !== action.payload)\n      });\n    //[\n    //     ...state,\n    //   action.payload\n    // curUserPost: curUserPost.push(action.payload),\n    // ];\n\n    case \"LOAD_OTHER_POSTS\":\n      return { ...state,\n        otherPosts: action.payload\n      };\n    // case \"UPDATE_LIKE_COUNT\":\n    // return{\n    //   ...state,\n    // }\n\n    case \"LOAD_CUR_USER_POSTS\":\n      console.log(\"LOAD_CUR_USER_POSTS rEDUCER....\");\n      return { ...state,\n        curUserPost: action.payload\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default postReducer;","map":{"version":3,"names":["initState","curUserPost","user","title","description","_id","likes","comments","postDate","__v","otherPosts","postReducer","state","action","type","Object","assign","concat","payload","oldPost","i","length","postId","push","filter","post","console","log"],"sources":["/home/lot/REACT_JS_PROJECTS/weconnectclient/src/reducers/Post.Reducer.js"],"sourcesContent":["const initState = {\n  curUserPost: [\n    {\n      user: \"62dd610e3281a0af9054ed8a\",\n      title: \"LOT\",\n      description: \"LOT Post\",\n      _id: \"630248f41ade0d58580c4874\",\n      likes: [],\n      comments: [],\n      postDate: \"2022-08-21T15:02:12.956\",\n      __v: 0,\n    },{\n      user: \"62dd610e3281a0af9054ed8a\",\n      title: \"LOT 11\",\n      description: \"LOT Post 1\",\n      _id: \"630248f41ade0d58580c4874s\",\n      likes: [],\n      comments: [],\n      postDate: \"2022-08-21T15:02:12.956Z\",\n      __v: 0,\n    },\n  ],\n  otherPosts: [],\n};\n\nconst postReducer = (state = initState, action) => {\n  switch (action.type) {\n    case \"ADD_POST\":\n      return Object.assign({}, state, {\n        curUserPost: state.curUserPost.concat(action.payload),\n      });\n      case \"ADD_COMMENT\":\n        const oldPost = state.otherPosts;\n        for(let i=0;i<oldPost.length;i++){\n            if(oldPost[i]._id === action.payload.postId){\n                oldPost[i].comments.push(action.payload);\n                break;\n            }\n        }\n        state.otherPosts = oldPost;\n        return{\n            ...state,\n          otherPosts: oldPost,\n        };\n     //    Object.assign({}, state, {\n     // otherPosts: oldPost,\n     //    })\n    case \"REMOVE_POST\":\n        return Object.assign({}, state, {\n            curUserPost: state.curUserPost.filter((post) => post._id !== action.payload),\n        });\n    //[\n    //     ...state,\n    //   action.payload\n    // curUserPost: curUserPost.push(action.payload),\n    // ];\n    case \"LOAD_OTHER_POSTS\":\n      return {\n        ...state,\n        otherPosts: action.payload,\n      };\n      // case \"UPDATE_LIKE_COUNT\":\n      // return{\n      //   ...state,\n      // }\n    case \"LOAD_CUR_USER_POSTS\":\n      console.log(\"LOAD_CUR_USER_POSTS rEDUCER....\");\n      return {\n        ...state,\n        curUserPost: action.payload,\n      };\n    default:\n      return state;\n  }\n};\n\nexport default postReducer;\n"],"mappings":"AAAA,MAAMA,SAAS,GAAG;EAChBC,WAAW,EAAE,CACX;IACEC,IAAI,EAAE,0BADR;IAEEC,KAAK,EAAE,KAFT;IAGEC,WAAW,EAAE,UAHf;IAIEC,GAAG,EAAE,0BAJP;IAKEC,KAAK,EAAE,EALT;IAMEC,QAAQ,EAAE,EANZ;IAOEC,QAAQ,EAAE,yBAPZ;IAQEC,GAAG,EAAE;EARP,CADW,EAUT;IACAP,IAAI,EAAE,0BADN;IAEAC,KAAK,EAAE,QAFP;IAGAC,WAAW,EAAE,YAHb;IAIAC,GAAG,EAAE,2BAJL;IAKAC,KAAK,EAAE,EALP;IAMAC,QAAQ,EAAE,EANV;IAOAC,QAAQ,EAAE,0BAPV;IAQAC,GAAG,EAAE;EARL,CAVS,CADG;EAsBhBC,UAAU,EAAE;AAtBI,CAAlB;;AAyBA,MAAMC,WAAW,GAAG,YAA+B;EAAA,IAA9BC,KAA8B,uEAAtBZ,SAAsB;EAAA,IAAXa,MAAW;;EACjD,QAAQA,MAAM,CAACC,IAAf;IACE,KAAK,UAAL;MACE,OAAOC,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBJ,KAAlB,EAAyB;QAC9BX,WAAW,EAAEW,KAAK,CAACX,WAAN,CAAkBgB,MAAlB,CAAyBJ,MAAM,CAACK,OAAhC;MADiB,CAAzB,CAAP;;IAGA,KAAK,aAAL;MACE,MAAMC,OAAO,GAAGP,KAAK,CAACF,UAAtB;;MACA,KAAI,IAAIU,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACD,OAAO,CAACE,MAAtB,EAA6BD,CAAC,EAA9B,EAAiC;QAC7B,IAAGD,OAAO,CAACC,CAAD,CAAP,CAAWf,GAAX,KAAmBQ,MAAM,CAACK,OAAP,CAAeI,MAArC,EAA4C;UACxCH,OAAO,CAACC,CAAD,CAAP,CAAWb,QAAX,CAAoBgB,IAApB,CAAyBV,MAAM,CAACK,OAAhC;UACA;QACH;MACJ;;MACDN,KAAK,CAACF,UAAN,GAAmBS,OAAnB;MACA,OAAM,EACF,GAAGP,KADD;QAEJF,UAAU,EAAES;MAFR,CAAN;IAIH;IACA;IACA;;IACD,KAAK,aAAL;MACI,OAAOJ,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBJ,KAAlB,EAAyB;QAC5BX,WAAW,EAAEW,KAAK,CAACX,WAAN,CAAkBuB,MAAlB,CAA0BC,IAAD,IAAUA,IAAI,CAACpB,GAAL,KAAaQ,MAAM,CAACK,OAAvD;MADe,CAAzB,CAAP;IAGJ;IACA;IACA;IACA;IACA;;IACA,KAAK,kBAAL;MACE,OAAO,EACL,GAAGN,KADE;QAELF,UAAU,EAAEG,MAAM,CAACK;MAFd,CAAP;IAIA;IACA;IACA;IACA;;IACF,KAAK,qBAAL;MACEQ,OAAO,CAACC,GAAR,CAAY,iCAAZ;MACA,OAAO,EACL,GAAGf,KADE;QAELX,WAAW,EAAEY,MAAM,CAACK;MAFf,CAAP;;IAIF;MACE,OAAON,KAAP;EA9CJ;AAgDD,CAjDD;;AAmDA,eAAeD,WAAf"},"metadata":{},"sourceType":"module"}