{"ast":null,"code":"import _slicedToArray from\"/home/lot/REACT_JS_PROJECTS/weconnectclient/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{connect}from\"react-redux\";import React,{useEffect,useState}from\"react\";import{createPost}from\"../../Actions/Post\";import CommentList from\"./CommentDisplay\";import DeletePost from\"../DeletePost\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Post=function Post(props){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),comment=_useState2[0],setComment=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),postTitle=_useState4[0],setPostTitle=_useState4[1];var _useState5=useState({pId:0,owner:\"\",title:\"\",content:\"\"}),_useState6=_slicedToArray(_useState5,2),post=_useState6[0],setPost=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),commentListFlag=_useState8[0],setCommentListFlag=_useState8[1];var handleFormData=function handleFormData(e){setComment(e.target.value);};var handleFormDataTitle=function handleFormDataTitle(e){setPostTitle(e.target.value);};var submitForm=function submitForm(e){e.preventDefault();props.createPost(postTitle,comment);setPostTitle(\"\");setComment(\"\");};var updatePost=function updatePost(id,owner,content,title){setPost({pId:id,owner:owner,title:title,content:content});setCommentListFlag(true);};return/*#__PURE__*/_jsxs(\"div\",{children:[post.pId===0?null:/*#__PURE__*/_jsx(CommentList,{commentFlag:commentListFlag,hidePost:setCommentListFlag,postList:props.posts.otherPosts,post:post}),/*#__PURE__*/_jsx(\"h1\",{class:\"large text-primary\",children:\"Posts\"}),/*#__PURE__*/_jsxs(\"p\",{class:\"lead\",children:[/*#__PURE__*/_jsx(\"i\",{class:\"fas fa-user\"}),\" Welcome to the community!\"]}),/*#__PURE__*/_jsxs(\"div\",{class:\"post-form\",children:[/*#__PURE__*/_jsx(\"div\",{class:\"bg-primary text-center p rounded-5\",children:/*#__PURE__*/_jsx(\"h3\",{children:\"Say / Ask Something Something...\"})}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:submitForm,className:\"form mb-5\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:postTitle,onChange:handleFormDataTitle,placeholder:\"Post Title\",name:\"postTitle\",required:true})}),/*#__PURE__*/_jsx(\"textarea\",{onChange:handleFormData,name:\"comment\",value:comment,cols:\"30\",rows:\"5\",placeholder:\"Create a post\",required:true}),/*#__PURE__*/_jsx(\"div\",{className:\"d-grid gap-2 col-6 mx-auto\",children:/*#__PURE__*/_jsx(\"input\",{type:\"submit\",className:\"btn btn-outline-success  my-1\",value:\"Submit\"})})]})]}),/*#__PURE__*/_jsx(\"div\",{class:\"posts\",children:props.posts.curUserPost.map(function(e){return/*#__PURE__*/_jsxs(\"div\",{class:\"post bg-white p-1 my-1 shadow p-3 mb-5 bg-body rounded\",children:[/*#__PURE__*/_jsx(\"div\",{}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"i\",{children:/*#__PURE__*/_jsx(\"b\",{children:/*#__PURE__*/_jsx(\"u\",{children:e.title})})})}),/*#__PURE__*/_jsx(\"p\",{class:\"my-1\",children:e.description}),/*#__PURE__*/_jsx(\"p\",{class:\"post-date\",children:\"Posted on 04/16/2019ss\"}),/*#__PURE__*/_jsxs(\"button\",{type:\"button\",class:\"btn btn-light\",children:[/*#__PURE__*/_jsx(\"i\",{class:\"fas fa-thumbs-up\"}),/*#__PURE__*/_jsx(\"span\",{children:e.likes.length})]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",class:\"btn btn-light\",children:/*#__PURE__*/_jsx(\"i\",{class:\"fas fa-thumbs-down\"})}),/*#__PURE__*/_jsxs(\"button\",{onClick:function onClick(){updatePost(e._id,e.user.firstName,e.description,e.title);},class:\"btn btn-primary\",children:[\"Discussion\",\" \",/*#__PURE__*/_jsx(\"span\",{class:\"comment-count\",children:e.comments.length})]}),/*#__PURE__*/_jsx(DeletePost,{postId:e._id})]})]});})})]});};var mapStateToProps=function mapStateToProps(state){return{posts:state.postReducer};};export default connect(mapStateToProps,{createPost:createPost})(Post);","map":{"version":3,"names":["connect","React","useEffect","useState","createPost","CommentList","DeletePost","Post","props","comment","setComment","postTitle","setPostTitle","pId","owner","title","content","post","setPost","commentListFlag","setCommentListFlag","handleFormData","e","target","value","handleFormDataTitle","submitForm","preventDefault","updatePost","id","posts","otherPosts","curUserPost","map","description","likes","length","_id","user","firstName","comments","mapStateToProps","state","postReducer"],"sources":["/home/lot/REACT_JS_PROJECTS/weconnectclient/src/Components/Layouts/Post.js"],"sourcesContent":["import { connect } from \"react-redux\";\nimport React, { useEffect, useState } from \"react\";\nimport { createPost } from \"../../Actions/Post\";\nimport CommentList from \"./CommentDisplay\";\nimport DeletePost from \"../DeletePost\";\n\nconst Post = (props) => {\n  const [comment, setComment] = useState(\"\");\n  const [postTitle, setPostTitle] = useState(\"\");\n  const [post, setPost] = useState({pId:0,owner:\"\",title:\"\",content:\"\"});\n  const [commentListFlag, setCommentListFlag] = useState(false);\n\n  const handleFormData = (e) => {\n    setComment(e.target.value);\n  };\n  const handleFormDataTitle = (e) => {\n    setPostTitle(e.target.value);\n  };\n  const submitForm = (e) => {\n    e.preventDefault();\n    props.createPost(postTitle, comment);\n    setPostTitle(\"\");\n    setComment(\"\");\n  };\n  const updatePost = (id,owner,content,title)=>{\n    setPost({pId:id,owner:owner,title,content:content});\n    setCommentListFlag(true);\n  }\n  return (\n    <div>\n      {post.pId === 0? (null):( <CommentList commentFlag={commentListFlag} hidePost={setCommentListFlag} postList={props.posts.otherPosts} post={post} />)}\n      <h1 class=\"large text-primary\">Posts</h1>\n      <p class=\"lead\">\n        <i class=\"fas fa-user\"></i> Welcome to the community!\n      </p>\n\n      <div class=\"post-form\">\n        <div class=\"bg-primary text-center p rounded-5\">\n          <h3>Say / Ask Something Something...</h3>\n        </div>\n        <form onSubmit={submitForm} className=\"form mb-5\">\n          <div className=\"form-group\">\n            <input\n              type=\"text\"\n              value={postTitle}\n              onChange={handleFormDataTitle}\n              placeholder=\"Post Title\"\n              name=\"postTitle\"\n              required\n            />\n          </div>\n\n          <textarea\n            onChange={handleFormData}\n            name=\"comment\"\n            value={comment}\n            cols=\"30\"\n            rows=\"5\"\n            placeholder=\"Create a post\"\n            required\n          ></textarea>\n          <div className=\"d-grid gap-2 col-6 mx-auto\">\n            <input type=\"submit\" className=\"btn btn-outline-success  my-1\" value=\"Submit\"/>\n          </div>\n        </form>\n      </div>\n\n      <div class=\"posts\">\n        {props.posts.curUserPost.map((e) => {\n          return (\n            <div class=\"post bg-white p-1 my-1 shadow p-3 mb-5 bg-body rounded\">\n              <div></div>\n              <div>\n                <p>\n                  <i>\n                    <b>\n                      <u>{e.title}</u>\n                    </b>\n                  </i>\n                </p>\n                <p class=\"my-1\">{e.description}</p>\n                <p class=\"post-date\">Posted on 04/16/2019ss</p>\n                <button type=\"button\" class=\"btn btn-light\">\n                  <i class=\"fas fa-thumbs-up\"></i>\n                  <span>{e.likes.length}</span>\n                </button>\n                <button type=\"button\" class=\"btn btn-light\">\n                  <i class=\"fas fa-thumbs-down\"></i>\n                </button>\n                <button onClick={()=>{updatePost(e._id,e.user.firstName,e.description,e.title)}}  class=\"btn btn-primary\">\n                  Discussion{\" \"}\n                  <span class=\"comment-count\">{e.comments.length}</span>\n                </button>\n                {/*/// bring back delete button*/}\n                <DeletePost postId={e._id}/>\n              </div>\n            </div>\n          );\n        })}\n      </div>\n    </div>\n  );\n};\nconst mapStateToProps = (state) => ({\n  posts: state.postReducer,\n});\nexport default connect(mapStateToProps, { createPost })(Post);\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}