{"ast":null,"code":"import _slicedToArray from\"/home/lot/REACT_JS_PROJECTS/weconnectclient/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{connect}from\"react-redux\";import React,{useEffect,useState}from\"react\";import{loadOtherPosts,likePost}from\"../../Actions/Post\";import{Alert}from\"react-bootstrap\";import Comment from\"./Comment\";import LikePostBtn from'../../Components/Posts/LikePostBtn';import DiscussionBtn from'../../Components/Posts/DiscussionBtn';import CommentList from\"./CommentDisplay\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Posts=function Posts(props){useEffect(function(){console.log(props.posts.otherPosts);});var likePost=function likePost(inputPostId){props.likePost(inputPostId);};var hidePost=function hidePost(){setCommentFlag(false);};var commentPostFlag=function commentPostFlag(id){// setPostId(id);\nsetCommentFlag(!commentFlag);};var _useState=useState(false),_useState2=_slicedToArray(_useState,2),commentFlag=_useState2[0],setCommentFlag=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),commentListFlag=_useState4[0],setCommentListFlag=_useState4[1];var _useState5=useState({pId:0,owner:\"\",title:\"\",content:\"\"}),_useState6=_slicedToArray(_useState5,2),post=_useState6[0],setPost=_useState6[1];var updatePost=function updatePost(id,owner,content,title){setPost({pId:id,owner:owner,title:title,content:content});setCommentListFlag(true);};return/*#__PURE__*/_jsxs(\"div\",{children:[post.pId===0?null:/*#__PURE__*/_jsx(CommentList,{commentFlag:commentListFlag,hidePost:setCommentListFlag,postList:props.posts.otherPosts,post:post}),/*#__PURE__*/_jsx(Comment,{hidePost:hidePost,commentFlag:commentFlag}),/*#__PURE__*/_jsx(\"h1\",{class:\"large text-primary\",children:\"Posts\"}),/*#__PURE__*/_jsxs(\"p\",{class:\"lead\",children:[/*#__PURE__*/_jsx(\"i\",{class:\"fas fa-user\"}),\" Welcome to the community!\"]}),/*#__PURE__*/_jsx(\"div\",{class:\"posts\",children:props.posts.otherPosts.map(function(e){return/*#__PURE__*/_jsxs(\"div\",{class:\"post bg-white p-1 my-1 shadow p-3 mb-5 bg-body rounded\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"a\",{href:\"profile.html\",children:[/*#__PURE__*/_jsx(\"img\",{class:\"round-img\",src:e.user.profileImg?\"https://weconnect-production.up.railway.app/\".concat(e.user.profileImg):\"https://ionicframework.com/docs/img/demos/avatar.svg\",alt:\"\"}),/*#__PURE__*/_jsxs(\"h4\",{children:[e.user.firstName,\" \",e.user.lastName]})]})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"i\",{children:/*#__PURE__*/_jsx(\"b\",{children:/*#__PURE__*/_jsx(\"u\",{children:e.title})})})}),/*#__PURE__*/_jsx(\"p\",{class:\"my-1\",children:e.description}),/*#__PURE__*/_jsxs(\"p\",{class:\"post-date\",children:[/*#__PURE__*/_jsx(\"b\",{children:\"Posted on:\"}),\" \",e.postDate.split(\"T\")[0]]}),/*#__PURE__*/_jsx(LikePostBtn,{postId:e._id,likePost:likePost,e:e}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",class:\"btn btn-light\",children:/*#__PURE__*/_jsx(\"i\",{class:\"fas fa-thumbs-down\"})}),/*#__PURE__*/_jsx(DiscussionBtn,{pId:e._id,commentTrackCount:e.comments.length}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){updatePost(e._id,e.user.firstName,e.description,e.title);},className:\"btn btn-primary\",children:\" \\xA0\\xA0 View Comments\"})]})]});})})]});};var mapStateToProps=function mapStateToProps(state){return{posts:state.postReducer};};export default connect(mapStateToProps,{loadOtherPosts:loadOtherPosts,likePost:likePost})(Posts);","map":{"version":3,"names":["connect","React","useEffect","useState","loadOtherPosts","likePost","Alert","Comment","LikePostBtn","DiscussionBtn","CommentList","Posts","props","console","log","posts","otherPosts","inputPostId","hidePost","setCommentFlag","commentPostFlag","id","commentFlag","commentListFlag","setCommentListFlag","pId","owner","title","content","post","setPost","updatePost","map","e","user","profileImg","firstName","lastName","description","postDate","split","_id","comments","length","mapStateToProps","state","postReducer"],"sources":["/home/lot/REACT_JS_PROJECTS/weconnectclient/src/Components/Layouts/Posts.js"],"sourcesContent":["import { connect } from \"react-redux\";\nimport React, { useEffect, useState } from \"react\";\nimport { loadOtherPosts, likePost } from \"../../Actions/Post\";\nimport { Alert } from \"react-bootstrap\";\nimport Comment from \"./Comment\";\nimport LikePostBtn from '../../Components/Posts/LikePostBtn'\nimport DiscussionBtn from '../../Components/Posts/DiscussionBtn'\nimport CommentList from \"./CommentDisplay\";\n\nconst Posts = (props) => {\n  useEffect(() => {\n    console.log(props.posts.otherPosts);\n  });\n\n  const likePost = (inputPostId) => {\n    props.likePost(inputPostId);\n  };\n\n  const hidePost = () => {\n    setCommentFlag(false);\n  };\n\n\n  const commentPostFlag = (id) => {\n    // setPostId(id);\n    setCommentFlag(!commentFlag);\n  };\n    const [commentFlag, setCommentFlag] = useState(false);\n    const [commentListFlag, setCommentListFlag] = useState(false);\n  const [post, setPost] = useState({pId:0,owner:\"\",title:\"\",content:\"\"});\n\n  const updatePost = (id,owner,content,title)=>{\n    setPost({pId:id,owner:owner,title,content:content});\n    setCommentListFlag(true);\n  }\n  return (\n    <div>\n        {post.pId === 0? (null):( <CommentList commentFlag={commentListFlag} hidePost={setCommentListFlag} postList={props.posts.otherPosts} post={post} />)}\n      <Comment hidePost={hidePost} commentFlag={commentFlag}   />\n      <h1 class=\"large text-primary\">Posts</h1>\n      <p class=\"lead\">\n        <i class=\"fas fa-user\"></i> Welcome to the community!\n      </p>\n\n      <div class=\"posts\">\n        {props.posts.otherPosts.map((e) => {\n          return (\n            <div class=\"post bg-white p-1 my-1 shadow p-3 mb-5 bg-body rounded\">\n              <div>\n                <a href=\"profile.html\">\n                  <img\n                    class=\"round-img\"\n                    src={e.user.profileImg? `https://weconnect-production.up.railway.app/${e.user.profileImg}`:\"https://ionicframework.com/docs/img/demos/avatar.svg\"}\n                    alt=\"\"\n                  />\n                  <h4>{e.user.firstName} {e.user.lastName}</h4>\n                </a>\n              </div>\n              <div>\n                <p>\n                  <i>\n                    <b>\n                      <u>{e.title}</u>\n                    </b>\n                  </i>\n                </p>\n                <p class=\"my-1\">{e.description}</p>\n                <p class=\"post-date\"><b>Posted on:</b> {e.postDate.split(\"T\")[0]}</p>\n\n                <LikePostBtn postId={e._id} likePost={likePost} e={e} />\n\n                <button type=\"button\" class=\"btn btn-light\">\n                  <i class=\"fas fa-thumbs-down\"></i>\n                </button>\n                <DiscussionBtn pId = {e._id} commentTrackCount={e.comments.length} />\n                  <button onClick={()=>{updatePost(e._id,e.user.firstName,e.description,e.title)}} className={\"btn btn-primary\"}> &nbsp;&nbsp;\n                     View Comments\n                  </button >\n\n              </div>\n            </div>\n          );\n        })}\n      </div>\n    </div>\n  );\n};\nconst mapStateToProps = (state) => ({\n  posts: state.postReducer,\n});\nexport default connect(mapStateToProps, { loadOtherPosts, likePost })(Posts);\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}