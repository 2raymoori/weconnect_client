{"ast":null,"code":"import axios from \"axios\";\nimport { setAlert } from \"./Alert\";\nexport const createPost = (inputTitle, inputDesc) => async dispatch => {\n  try {\n    const config = {\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    };\n    const data = {\n      title: inputTitle,\n      description: inputDesc\n    };\n    const body = JSON.stringify(data);\n    const postUrl = \"http://localhost:5000/api/post/add\";\n    const res = await axios.post(postUrl, body, config);\n    dispatch({\n      type: \"ADD_POST\",\n      payload: res.data.data[0].data\n    });\n  } catch (error) {\n    dispatch(setAlert(\"Error Occured in the Post creation. Please try again later\"));\n  }\n};\nexport const loadCurPosts = () => async dispatch => {\n  try {\n    const res = await axios.get(\"http://localhost:5000/api/post/myposts\");\n    dispatch({\n      type: \"LOAD_CUR_USER_POSTS\",\n      payload: res.data.data[0].data\n    });\n  } catch (error) {\n    dispatch(setAlert(\"Error Occured in the Post creation. Please try again later\"));\n  }\n};\nexport const loadOtherPosts = () => async dispatch => {\n  try {\n    const res = await axios.get(\"http://localhost:5000/api/post/allPosts\");\n    dispatch({\n      type: \"LOAD_OTHER_POSTS\",\n      payload: res.data.data[0].msg\n    });\n  } catch (error) {\n    dispatch(setAlert(\"Error Occured in the Post creation. Please try again later\"));\n  }\n};\nexport const addComment = (postId, commentContent) => async dispatch => {\n  try {\n    const config = {\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    };\n    const data = {\n      description: commentContent\n    };\n    const body = JSON.stringify(data);\n    const res = await axios.put(`http://localhost:5000/api/post/${postId}/comment`, body, config);\n\n    if (res) {\n      dispatch(setAlert(\"Comment Successfully adaded.\", \"success\"));\n    }\n  } catch (error) {\n    console.log(error.message);\n    dispatch(setAlert(\"Error Occured during Comment.Please try again later\", \"danger\"));\n  }\n};\nexport const likePost = postId => async dispatch => {\n  try {\n    const res = await axios.put(`http://localhost:5000/api/post/${postId}/like`);\n    dispatch(setAlert(\"Post Successfully Liked.\", \"success\"));\n  } catch (error) {\n    dispatch(setAlert(\"Sorry there exists an error within the system during post like. Please try again later\", \"danger\"));\n  }\n};","map":{"version":3,"names":["axios","setAlert","createPost","inputTitle","inputDesc","dispatch","config","headers","data","title","description","body","JSON","stringify","postUrl","res","post","type","payload","error","loadCurPosts","get","loadOtherPosts","msg","addComment","postId","commentContent","put","console","log","message","likePost"],"sources":["/home/lot/REACT_JS_PROJECTS/WECONNECT/weconnectclient/src/Actions/Post.js"],"sourcesContent":["import axios from \"axios\";\nimport { setAlert } from \"./Alert\";\nexport const createPost = (inputTitle, inputDesc) => async (dispatch) => {\n  try {\n    const config = {\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n    };\n    const data = { title: inputTitle, description: inputDesc };\n    const body = JSON.stringify(data);\n    const postUrl = \"http://localhost:5000/api/post/add\";\n    const res = await axios.post(postUrl, body, config);\n    dispatch({\n      type: \"ADD_POST\",\n      payload: res.data.data[0].data,\n    });\n  } catch (error) {\n    dispatch(\n      setAlert(\"Error Occured in the Post creation. Please try again later\")\n    );\n  }\n};\n\nexport const loadCurPosts = () => async (dispatch) => {\n  try {\n    const res = await axios.get(\"http://localhost:5000/api/post/myposts\");\n\n    dispatch({\n      type: \"LOAD_CUR_USER_POSTS\",\n      payload: res.data.data[0].data,\n    });\n  } catch (error) {\n    dispatch(\n      setAlert(\"Error Occured in the Post creation. Please try again later\")\n    );\n  }\n};\n\nexport const loadOtherPosts = () => async (dispatch) => {\n  try {\n    const res = await axios.get(\"http://localhost:5000/api/post/allPosts\");\n\n    dispatch({\n      type: \"LOAD_OTHER_POSTS\",\n      payload: res.data.data[0].msg,\n    });\n  } catch (error) {\n    dispatch(\n      setAlert(\"Error Occured in the Post creation. Please try again later\")\n    );\n  }\n};\nexport const addComment=(postId,commentContent)=>async (dispatch)=>{\ntry{\nconst config = {\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n    };\n    const data = { description: commentContent};\n    const body = JSON.stringify(data);\n    const res = await axios.put(`http://localhost:5000/api/post/${postId}/comment`,body,config);\n    if(res){\n      dispatch(setAlert(\"Comment Successfully adaded.\",\"success\"));\n    }\n}\ncatch(error){\n  console.log(error.message)\n  dispatch(setAlert(\"Error Occured during Comment.Please try again later\",\"danger\"));\n}\n}\nexport const likePost = (postId) => async (dispatch) => {\n  try {\n    const res = await axios.put(\n      `http://localhost:5000/api/post/${postId}/like`\n    );\n    dispatch(setAlert(\"Post Successfully Liked.\", \"success\"));\n  } catch (error) {\n    dispatch(\n      setAlert(\n        \"Sorry there exists an error within the system during post like. Please try again later\",\n        \"danger\"\n      )\n    );\n  }\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}