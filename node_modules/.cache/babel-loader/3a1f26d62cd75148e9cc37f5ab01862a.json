{"ast":null,"code":"import _objectSpread from\"/home/lot/REACT_JS_PROJECTS/weconnectclient/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";var initState={token:localStorage.getItem(\"token\"),isAuthenticated:null,loading:true,user:null};export default function(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initState;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case\"USER_LOADED\":return _objectSpread(_objectSpread({},state),{},{isAuthenticated:true,loading:false,user:action.payload});case\"REGISTER_SUCCESS\":case\"LOGIN_SUCCESS\":// console.log(action.payload.token);\nlocalStorage.setItem(\"token\",action.payload.token);return _objectSpread(_objectSpread(_objectSpread({},state),action.payload),{},{isAuthenticated:true,loading:false});case\"REGISTER_FAIL\":case\"AUTH_ERROR\":case\"LOGIN_FAILED\":case\"LOGOUT\":localStorage.removeItem(\"token\");return _objectSpread(_objectSpread({},state),{},{token:null,isAuthenticated:false,loading:false});default:return state;}}","map":{"version":3,"names":["initState","token","localStorage","getItem","isAuthenticated","loading","user","state","action","type","payload","setItem","removeItem"],"sources":["/home/lot/REACT_JS_PROJECTS/weconnectclient/src/reducers/auth.js"],"sourcesContent":["const initState = {\n  token: localStorage.getItem(\"token\"),\n  isAuthenticated: null,\n  loading: true,\n  user: null,\n};\nexport default function (state = initState, action) {\n  switch (action.type) {\n    case \"USER_LOADED\":\n      return {\n        ...state,\n        isAuthenticated: true,\n        loading: false,\n        user: action.payload,\n      };\n    case \"REGISTER_SUCCESS\":\n    case \"LOGIN_SUCCESS\":\n      // console.log(action.payload.token);\n      localStorage.setItem(\"token\", action.payload.token);\n      return {\n        ...state,\n        ...action.payload,\n        isAuthenticated: true,\n        loading: false,\n      };\n    case \"REGISTER_FAIL\":\n    case \"AUTH_ERROR\":\n    case \"LOGIN_FAILED\":\n    case \"LOGOUT\":\n      localStorage.removeItem(\"token\");\n      return {\n        ...state,\n        token: null,\n        isAuthenticated: false,\n        loading: false,\n      };\n    default:\n      return state;\n  }\n}\n"],"mappings":"gIAAA,GAAMA,UAAS,CAAG,CAChBC,KAAK,CAAEC,YAAY,CAACC,OAAb,CAAqB,OAArB,CADS,CAEhBC,eAAe,CAAE,IAFD,CAGhBC,OAAO,CAAE,IAHO,CAIhBC,IAAI,CAAE,IAJU,CAAlB,CAMA,cAAe,WAAqC,IAA3BC,MAA2B,2DAAnBP,SAAmB,IAARQ,OAAQ,2CAClD,OAAQA,MAAM,CAACC,IAAf,EACE,IAAK,aAAL,CACE,sCACKF,KADL,MAEEH,eAAe,CAAE,IAFnB,CAGEC,OAAO,CAAE,KAHX,CAIEC,IAAI,CAAEE,MAAM,CAACE,OAJf,GAMF,IAAK,kBAAL,CACA,IAAK,eAAL,CACE;AACAR,YAAY,CAACS,OAAb,CAAqB,OAArB,CAA8BH,MAAM,CAACE,OAAP,CAAeT,KAA7C,EACA,oDACKM,KADL,EAEKC,MAAM,CAACE,OAFZ,MAGEN,eAAe,CAAE,IAHnB,CAIEC,OAAO,CAAE,KAJX,GAMF,IAAK,eAAL,CACA,IAAK,YAAL,CACA,IAAK,cAAL,CACA,IAAK,QAAL,CACEH,YAAY,CAACU,UAAb,CAAwB,OAAxB,EACA,sCACKL,KADL,MAEEN,KAAK,CAAE,IAFT,CAGEG,eAAe,CAAE,KAHnB,CAIEC,OAAO,CAAE,KAJX,GAMF,QACE,MAAOE,MAAP,CA9BJ,CAgCD"},"metadata":{},"sourceType":"module"}