{"ast":null,"code":"const initState = {\n  token: localStorage.getItem(\"token\"),\n  isAuthenticated: null,\n  loading: true,\n  user: null\n};\nexport default function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case \"USER_LOADED\":\n      return { ...state,\n        isAuthenticated: true,\n        loading: false,\n        user: action.payload\n      };\n\n    case \"REGISTER_SUCCESS\":\n    case \"LOGIN_SUCCESS\":\n      // console.log(action.payload.token);\n      localStorage.setItem(\"token\", action.payload.token);\n      return { ...state,\n        ...action.payload,\n        isAuthenticated: true,\n        loading: false\n      };\n\n    case \"REGISTER_FAIL\":\n    case \"AUTH_ERROR\":\n    case \"LOGIN_FAILED\":\n    case \"LOGOUT\":\n      localStorage.removeItem(\"token\");\n      return { ...state,\n        token: null,\n        isAuthenticated: false,\n        loading: false\n      };\n\n    default:\n      return state;\n  }\n}","map":{"version":3,"names":["initState","token","localStorage","getItem","isAuthenticated","loading","user","state","action","type","payload","setItem","removeItem"],"sources":["/home/lot/REACT_JS_PROJECTS/WECONNECT/weconnectclient/src/reducers/auth.js"],"sourcesContent":["const initState = {\n  token: localStorage.getItem(\"token\"),\n  isAuthenticated: null,\n  loading: true,\n  user: null,\n};\nexport default function (state = initState, action) {\n  switch (action.type) {\n    case \"USER_LOADED\":\n      return {\n        ...state,\n        isAuthenticated: true,\n        loading: false,\n        user: action.payload,\n      };\n    case \"REGISTER_SUCCESS\":\n    case \"LOGIN_SUCCESS\":\n      // console.log(action.payload.token);\n      localStorage.setItem(\"token\", action.payload.token);\n      return {\n        ...state,\n        ...action.payload,\n        isAuthenticated: true,\n        loading: false,\n      };\n    case \"REGISTER_FAIL\":\n    case \"AUTH_ERROR\":\n    case \"LOGIN_FAILED\":\n    case \"LOGOUT\":\n      localStorage.removeItem(\"token\");\n      return {\n        ...state,\n        token: null,\n        isAuthenticated: false,\n        loading: false,\n      };\n    default:\n      return state;\n  }\n}\n"],"mappings":"AAAA,MAAMA,SAAS,GAAG;EAChBC,KAAK,EAAEC,YAAY,CAACC,OAAb,CAAqB,OAArB,CADS;EAEhBC,eAAe,EAAE,IAFD;EAGhBC,OAAO,EAAE,IAHO;EAIhBC,IAAI,EAAE;AAJU,CAAlB;AAMA,eAAe,YAAqC;EAAA,IAA3BC,KAA2B,uEAAnBP,SAAmB;EAAA,IAARQ,MAAQ;;EAClD,QAAQA,MAAM,CAACC,IAAf;IACE,KAAK,aAAL;MACE,OAAO,EACL,GAAGF,KADE;QAELH,eAAe,EAAE,IAFZ;QAGLC,OAAO,EAAE,KAHJ;QAILC,IAAI,EAAEE,MAAM,CAACE;MAJR,CAAP;;IAMF,KAAK,kBAAL;IACA,KAAK,eAAL;MACE;MACAR,YAAY,CAACS,OAAb,CAAqB,OAArB,EAA8BH,MAAM,CAACE,OAAP,CAAeT,KAA7C;MACA,OAAO,EACL,GAAGM,KADE;QAEL,GAAGC,MAAM,CAACE,OAFL;QAGLN,eAAe,EAAE,IAHZ;QAILC,OAAO,EAAE;MAJJ,CAAP;;IAMF,KAAK,eAAL;IACA,KAAK,YAAL;IACA,KAAK,cAAL;IACA,KAAK,QAAL;MACEH,YAAY,CAACU,UAAb,CAAwB,OAAxB;MACA,OAAO,EACL,GAAGL,KADE;QAELN,KAAK,EAAE,IAFF;QAGLG,eAAe,EAAE,KAHZ;QAILC,OAAO,EAAE;MAJJ,CAAP;;IAMF;MACE,OAAOE,KAAP;EA9BJ;AAgCD"},"metadata":{},"sourceType":"module"}