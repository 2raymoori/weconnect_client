{"ast":null,"code":"import axios from \"axios\";\nimport { setAlert } from \"./Alert\";\nconst NEW_URL = \"https://weconnect-api-u9ml.onrender.com/\";\nconst oldURL = \"http://localhost:5001/\";\nexport const uProfile = () => async dispatch => {\n  try {\n    const res = await axios.get(`NEW_URL}api/profile/me`); // console.log(res.data.data[0]);\n\n    dispatch({\n      type: \"L_PROFILE\",\n      payload: res.data.data[0]\n    });\n  } catch (error) {\n    console.log(\"Error.... in the uprofile Action\");\n  }\n}; // export const clearProfile = () => (dispatch) => {\n//   dispatch({\n//     type: \"CLEAR_PROFILE\",\n//   });\n// };\n\nexport const addProfile = profileObject => async dispatch => {\n  try {\n    console.log(profileObject);\n    const config = {\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    };\n    const body = JSON.stringify(profileObject);\n    const res = await axios.post(`NEW_URL}api/profile/add`, body, config);\n    console.log(res);\n    dispatch(setAlert(\"Profile Successfully Added\", \"success\"));\n  } catch (error) {\n    console.log(error);\n    console.log(error.message);\n  }\n};\nexport const updateProfile = (profileObj, profileId) => async dispatch => {\n  const updateUrl = `${NEW_URL}api/profile/update/${profileId}`;\n\n  try {\n    const config = {\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    };\n    const body = JSON.stringify(profileObj);\n    const res = await axios.put(updateUrl, body, config);\n    dispatch(setAlert(\"Profile Successfully updated\", \"success\"));\n  } catch (error) {\n    dispatch(setAlert(\"Sorry profile update\", \"danger\"));\n  }\n};\nexport const addExperience = (experienceData, profileId) => async dispatch => {\n  try {\n    const config = {\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    };\n    const body = JSON.stringify(experienceData);\n    const res = await axios.put(`${NEW_URL}api/profile/addexperience/${profileId}`, body, config);\n    console.log(res.data.data[0].msg);\n    const newExperience = res.data.data[0].msg.experience.pop(); // console.log(newExperience);\n\n    dispatch(setAlert(\"Experience Successfully added\", \"success\"));\n    dispatch({\n      type: \"ADD_EXPERIENCE\",\n      payload: newExperience\n    });\n  } catch (error) {\n    console.log(error);\n    dispatch(setAlert(\"Sorry There exists an error while adding an experience\", \"danger\"));\n  }\n};\nexport const addEducation = (educationData, profileId) => async dispatch => {\n  try {\n    const config = {\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    };\n    const body = JSON.stringify(educationData);\n    const res = await axios.put(`${NEW_URL}api/profile/addedu/${profileId}`, body, config);\n    const eduData = res.data.data[0].msg.education.pop();\n    console.log(\"#################### BODY ####################\");\n    console.log(body);\n    dispatch(setAlert(\"Education Successfully added\", \"success\"));\n    dispatch({\n      type: \"ADD_EDUCATION\",\n      payload: eduData\n    });\n  } catch (error) {\n    console.log(error);\n    dispatch(setAlert(\"Sorry There exists an error while adding an Education\", \"danger\"));\n  }\n};\nexport const deleteProfile = profileId => async dispatch => {\n  try {\n    const res = await axios.delete(`${NEW_URL}api/profile/delete/${profileId}`);\n    dispatch(setAlert(\"Profile Successsfully Deleted from the System.\", \"success\"));\n  } catch (error) {\n    console.log(error);\n    dispatch(setAlert(\"Sorry There exists an error while deleting the Profile. Please Try Again later.\", \"danger\"));\n  }\n};\nexport const deleteEducation = (profileId, educationId) => async dispatch => {\n  try {\n    const res = await axios.delete(`${NEW_URL}api/profile/${profileId}/${educationId}`);\n    dispatch(setAlert(\"Education Successsfully Deleted from the System.\", \"success\"));\n  } catch (error) {\n    dispatch(setAlert(\"Sorry There exists an error while deleting the Education. Please Try Again later.\", \"danger\"));\n  }\n};\nexport const deleteExperience = (profileId, experienceId) => async dispatch => {\n  try {\n    const res = await axios.delete(`${NEW_URL}api/profile/${profileId}/${experienceId}/delete`);\n    dispatch(setAlert(\"Experience Successsfully Deleted from the System.\", \"success\"));\n  } catch (error) {\n    dispatch(setAlert(\"Sorry There exists an error while deleting the Experience. Please Try Again later.\", \"danger\"));\n  }\n};\nexport const loadProfiles = () => async dispatch => {\n  try {\n    const URL = `${NEW_URL}api/profile/allprofile`;\n    const res = await axios.get(URL);\n    const profiles = res.data.data[0].msg;\n    dispatch({\n      type: \"L_PROFILES\",\n      payload: profiles\n    });\n  } catch (error) {}\n};\nexport const loadOtherProfile = data => async dispatch => {\n  dispatch({\n    type: \"OTHER_PROFILE\",\n    payload: data\n  });\n};","map":{"version":3,"names":["axios","setAlert","NEW_URL","oldURL","uProfile","dispatch","res","get","type","payload","data","error","console","log","addProfile","profileObject","config","headers","body","JSON","stringify","post","message","updateProfile","profileObj","profileId","updateUrl","put","addExperience","experienceData","msg","newExperience","experience","pop","addEducation","educationData","eduData","education","deleteProfile","delete","deleteEducation","educationId","deleteExperience","experienceId","loadProfiles","URL","profiles","loadOtherProfile"],"sources":["/home/lot/REACT_JS_PROJECTS/weconnectclient/src/Actions/Profile.Action.js"],"sourcesContent":["import axios from \"axios\";\nimport { setAlert } from \"./Alert\";\nconst NEW_URL = \"https://weconnect-api-u9ml.onrender.com/\";\nconst oldURL = \"http://localhost:5001/\";\nexport const uProfile = () => async (dispatch) => {\n  try {\n    const res = await axios.get(`NEW_URL}api/profile/me`);\n    // console.log(res.data.data[0]);\n    dispatch({\n      type: \"L_PROFILE\",\n      payload: res.data.data[0],\n    });\n  } catch (error) {\n    console.log(\"Error.... in the uprofile Action\");\n  }\n};\n// export const clearProfile = () => (dispatch) => {\n//   dispatch({\n//     type: \"CLEAR_PROFILE\",\n//   });\n// };\n\nexport const addProfile = (profileObject) => async (dispatch) => {\n  try {\n    console.log(profileObject);\n    const config = {\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n    };\n\n    const body = JSON.stringify(profileObject);\n\n    const res = await axios.post(\n      `NEW_URL}api/profile/add`,\n      body,\n      config\n    );\n    console.log(res);\n    dispatch(setAlert(\"Profile Successfully Added\", \"success\"));\n  } catch (error) {\n    console.log(error);\n    console.log(error.message);\n  }\n};\n\nexport const updateProfile = (profileObj, profileId) => async (dispatch) => {\n  const updateUrl = `${NEW_URL}api/profile/update/${profileId}`;\n  try {\n    const config = {\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n    };\n    const body = JSON.stringify(profileObj);\n    const res = await axios.put(updateUrl, body, config);\n    dispatch(setAlert(\"Profile Successfully updated\", \"success\"));\n  } catch (error) {\n    dispatch(setAlert(\"Sorry profile update\", \"danger\"));\n  }\n};\nexport const addExperience =\n  (experienceData, profileId) => async (dispatch) => {\n    try {\n      const config = {\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n      };\n      const body = JSON.stringify(experienceData);\n      const res = await axios.put(\n        `${NEW_URL}api/profile/addexperience/${profileId}`,\n        body,\n        config\n      );\n      console.log(res.data.data[0].msg);\n      const newExperience = res.data.data[0].msg.experience.pop();\n      // console.log(newExperience);\n      dispatch(setAlert(\"Experience Successfully added\", \"success\"));\n      dispatch({\n        type: \"ADD_EXPERIENCE\",\n        payload: newExperience,\n      });\n    } catch (error) {\n      console.log(error);\n      dispatch(\n        setAlert(\n          \"Sorry There exists an error while adding an experience\",\n          \"danger\"\n        )\n      );\n    }\n  };\n\nexport const addEducation = (educationData, profileId) => async (dispatch) => {\n  try {\n    const config = {\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n    };\n    const body = JSON.stringify(educationData);\n    const res = await axios.put(\n      `${NEW_URL}api/profile/addedu/${profileId}`,\n      body,\n      config\n    );\n    const eduData = res.data.data[0].msg.education.pop();\n    console.log(\"#################### BODY ####################\");\n    console.log(body);\n    dispatch(setAlert(\"Education Successfully added\", \"success\"));\n\n    dispatch({\n      type: \"ADD_EDUCATION\",\n      payload: eduData,\n    });\n  } catch (error) {\n    console.log(error);\n    dispatch(\n      setAlert(\n        \"Sorry There exists an error while adding an Education\",\n        \"danger\"\n      )\n    );\n  }\n};\n\nexport const deleteProfile = (profileId) => async (dispatch) => {\n  try {\n    const res = await axios.delete(`${NEW_URL}api/profile/delete/${profileId}`);\n    dispatch(\n      setAlert(\"Profile Successsfully Deleted from the System.\", \"success\")\n    );\n  } catch (error) {\n    console.log(error);\n    dispatch(\n      setAlert(\n        \"Sorry There exists an error while deleting the Profile. Please Try Again later.\",\n        \"danger\"\n      )\n    );\n  }\n};\n\nexport const deleteEducation = (profileId, educationId) => async (dispatch) => {\n  try {\n    const res = await axios.delete(\n      `${NEW_URL}api/profile/${profileId}/${educationId}`\n    );\n    dispatch(\n      setAlert(\"Education Successsfully Deleted from the System.\", \"success\")\n    );\n  } catch (error) {\n    dispatch(\n      setAlert(\n        \"Sorry There exists an error while deleting the Education. Please Try Again later.\",\n        \"danger\"\n      )\n    );\n  }\n};\n\nexport const deleteExperience =\n  (profileId, experienceId) => async (dispatch) => {\n    try {\n      const res = await axios.delete(\n        `${NEW_URL}api/profile/${profileId}/${experienceId}/delete`\n      );\n      dispatch(\n        setAlert(\"Experience Successsfully Deleted from the System.\", \"success\")\n      );\n    } catch (error) {\n      dispatch(\n        setAlert(\n          \"Sorry There exists an error while deleting the Experience. Please Try Again later.\",\n          \"danger\"\n        )\n      );\n    }\n  };\nexport const loadProfiles = () => async (dispatch) => {\n  try {\n    const URL = `${NEW_URL}api/profile/allprofile`;\n    const res = await axios.get(URL);\n    const profiles = res.data.data[0].msg;\n    dispatch({\n      type: \"L_PROFILES\",\n      payload: profiles,\n    });\n  } catch (error) {}\n};\n\nexport const loadOtherProfile = (data) => async (dispatch) => {\n  dispatch({\n    type: \"OTHER_PROFILE\",\n    payload: data,\n  });\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}